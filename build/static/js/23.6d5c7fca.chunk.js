(this.webpackJsonpteacher_admin=this.webpackJsonpteacher_admin||[]).push([[23],{214:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return r}));var c=a(174);function n(e){return Object(c.a)({url:"/getUploadImage",method:"POST",data:e})}function s(e){return Object(c.a)({url:"/addTeacherUpload",method:"POST",data:e})}function r(e){return Object(c.a)({url:"/getUploadList",method:"GET",params:e})}},327:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);a(173);var c=a(172),n=(a(325),a(349)),s=(a(176),a(180)),r=a(20),i=a.n(r),l=(a(184),a(68)),o=a(3),u=a(39),d=a(8),h=(a(192),a(196)),m=a(13),p=a(0),j=(a(327),a(214)),b=h.a.TextArea;function g(e){var t=Object(p.useRef)(null),a=Object(p.useState)([]),r=Object(d.a)(a,2),g=r[0],O=r[1],v=Object(p.useState)(""),f=Object(d.a)(v,2),x=f[0],_=f[1],N=Object(p.useState)(""),y=Object(d.a)(N,2),k=y[0],w=y[1],C=function(){t.current.click(),t.current.addEventListener("change",E)},E=function(){var e=Object(u.a)(i.a.mark((function e(a){var c,n,s,r,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u6267\u884caddEventListener"),(c=a.target.files).length){e.next=4;break}return e.abrupt("return");case 4:return(n=new FormData).append("img_url",c[0],c[0].name),e.next=8,Object(j.b)(n);case 8:s=e.sent,r=s.code,u=s.data,d=s.msg,200===r?(O([].concat(Object(o.a)(g),[u.img])),l.b.success(d),t.current.removeEventListener("change",E),t.current.value=""):(l.b.error(d),t.current.removeEventListener("change",E),t.current.value="");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)({image_urls:g,remark:k,paper_name:x});case 2:t=e.sent,a=t.code,c=t.msg,200===a?(l.b.success(c),O([]),_(""),w("")):l.b.error(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{id:"Uploadpaper",children:[Object(m.jsx)(s.a,{separator:Object(m.jsx)("img",{src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/right_icon.png",style:{width:"0.57rem",height:"0.79rem"}}),children:Object(m.jsxs)(s.a.Item,{style:{cursor:"pointer",color:"#222"},children:[Object(m.jsx)("img",{className:"position",src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/position.png",alt:"position",style:{width:"0.86rem",height:"1.14rem",marginRight:"1rem"}}),"\u4e0a\u4f20\u8bd5\u5377"]})}),Object(m.jsxs)("div",{className:"content_box",children:[Object(m.jsxs)("div",{className:"paperName",children:[Object(m.jsx)("span",{children:"\u8bd5\u5377\u540d\u79f0"}),Object(m.jsx)(h.a,{className:"myInput",placeholder:"\u8bf7\u586b\u5199\u8bd5\u5377\u540d\u79f0",onChange:function(e){var t=e.target.value;_(t)},value:x})]}),Object(m.jsxs)("div",{className:"Remarks",children:[Object(m.jsx)("span",{children:"\u5907\u6ce8"}),Object(m.jsx)(b,{className:"myInput",placeholder:"\u8bf7\u586b\u5199\u5907\u6ce8",onChange:function(e){var t=e.target.value;w(t)},value:k})]}),g.length?Object(m.jsxs)("div",{className:"upload_insert",children:[null===g||void 0===g?void 0:g.map((function(e,t){return Object(m.jsxs)("div",{className:"iamge_warp",children:[Object(m.jsx)(n.a,{className:"itemImg",width:"11.43rem",height:"14.29rem",src:e}),Object(m.jsx)("img",{className:"image_delete_icon",src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/image_delete_icon.png",alt:"image_delete_icon",onClick:function(){return function(e){var t=Object(o.a)(g);t.splice(e,1),O(t)}(t)}})]},t)})),Object(m.jsxs)("div",{className:"listUpload",onClick:C,children:[Object(m.jsx)("img",{className:"uploadlist",src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/uploadlist.png",alt:"uploadlist"}),Object(m.jsx)("span",{children:"\u4e0a\u4f20\u56fe\u7247"})]})]}):Object(m.jsxs)("div",{className:"upload_box",onClick:C,children:[Object(m.jsx)("img",{className:"upload_icon",src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/upload_icon.png",alt:"upload_icon"}),Object(m.jsx)("h1",{children:"\u70b9\u51fb\u4e0a\u4f20\u56fe\u7247"}),Object(m.jsx)("p",{children:"\u683c\u5f0f\uff1aJPG\u3001JPEG2000\u3001PNG"})]}),Object(m.jsx)(c.a,{type:"primary",className:"btns",onClick:I,children:"\u4fdd\u5b58"})]}),Object(m.jsx)("input",{ref:t,id:"upload",type:"file",name:"file",hidden:!0})]})}t.default=Object(p.memo)(g)}}]);