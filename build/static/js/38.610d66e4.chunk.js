(this.webpackJsonpteacher_admin=this.webpackJsonpteacher_admin||[]).push([[38],{155:function(e,t,n){"use strict";n(161);var a=n(163),c=n(13),i=n(0);n(156);function r(e){var t=e.children,n=e.isOpen,i=void 0!==n&&n,r=e.closeClick,s=e.title,l=void 0===s?"":s,o=e.width,d=void 0===o?"41.71rem":o,u=e.height,j=void 0===u?"23.5rem":u,b=j.split("rem")[0]-4.64;return Object(c.jsx)(a.a,{className:"T_modelbox",title:l,visible:i,onCancel:r,footer:null,centered:!0,width:d,height:j,bodyStyle:{height:b+"rem"},closeIcon:Object(c.jsx)("img",{src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/delete_icon.png",alt:"delete_icon",style:{width:"1.29rem",height:"1.29rem"}}),children:t})}t.a=Object(i.memo)(r)},156:function(e,t,n){},182:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"j",(function(){return j})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return O}));var a=n(146),c=n(149),i=n.n(c);function r(e){return Object(a.a)({url:"/getUploadImage",method:"POST",data:e})}function s(e){return Object(a.a)({url:"/addTeacherUpload",method:"POST",data:i.a.stringify(e)})}function l(){return Object(a.a)({url:"/information",method:"GET"})}function o(){return Object(a.a)({url:"/getAllArea",method:"GET"})}function d(e){return Object(a.a)({url:"/getSchools",method:"GET",params:e})}function u(){return Object(a.a)({url:"/pointLog",method:"GET"})}function j(e){return Object(a.a)({url:"/getUploadList",method:"GET",params:e})}function b(e){return Object(a.a)({url:"/getOrganizingPapersLog",method:"GET",params:e})}function v(e){return Object(a.a)({url:"/editInformation",method:"POST",data:i.a.stringify(e)})}function m(e){return Object(a.a)({url:"/getCode",method:"GET",params:e})}function h(e){return Object(a.a)({url:"/editMobile",method:"GET",params:e})}function O(e){return Object(a.a)({url:"/getTeacherUpload",method:"GET",params:e})}},728:function(e,t,n){"use strict";n.r(t);n(144);var a=n(143),c=(n(729),n(747)),i=(n(750),n(746)),r=(n(184),n(187)),s=n(20),l=n.n(s),o=(n(148),n(66)),d=n(32),u=n(5),j=(n(191),n(177)),b=n(13),v=n(0),m=(n(733),n(77)),h=n(776),O=n(182),f=n(64),p=n(28),x=n(155),g=n(168),N=j.a.Option;function y(e){e.history,e.location;var t,n=e.homeInfo,s=""!==(null===n||void 0===n||null===(t=n.teacher)||void 0===t?void 0:t.team_ids),f=Object(v.useState)({}),p=Object(u.a)(f,2),y=p[0],w=p[1],_=Object(v.useState)([]),S=Object(u.a)(_,2),k=S[0],C=S[1],T=Object(v.useState)(0),E=Object(u.a)(T,2),G=E[0],I=E[1],U=Object(v.useState)(""),P=Object(u.a)(U,2),L=P[0],D=P[1],R=Object(v.useState)("1"),A=Object(u.a)(R,2),F=A[0],J=A[1],q=Object(v.useState)(!1),z=Object(u.a)(q,2),B=z[0],M=z[1],H=Object(v.useState)([]),K=Object(u.a)(H,2),Q=K[0],V=K[1],W=Object(v.useState)(!1),X=Object(u.a)(W,2),Y=X[0],Z=X[1],$=Object(v.useState)([]),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ae=Object(v.useState)(!1),ce=Object(u.a)(ae,2),ie=ce[0],re=ce[1],se=Object(v.useState)([]),le=Object(u.a)(se,2),oe=(le[0],le[1]),de=Object(v.useState)(""),ue=Object(u.a)(de,2),je=ue[0],be=ue[1],ve=Object(v.useState)(""),me=Object(u.a)(ve,2),he=me[0],Oe=me[1],fe=Object(v.useState)(""),pe=Object(u.a)(fe,2),xe=pe[0],ge=pe[1],Ne=Object(v.useState)(!1),ye=Object(u.a)(Ne,2),we=ye[0],_e=ye[1],Se=Object(v.useState)("\u53d1\u9001\u9a8c\u8bc1\u7801"),ke=Object(u.a)(Se,2),Ce=ke[0],Te=ke[1],Ee=Object(v.useState)(!1),Ge=Object(u.a)(Ee,2),Ie=Ge[0],Ue=Ge[1],Pe=null;Object(v.useEffect)((function(){return ze(),Le(),function(){clearInterval(Pe)}}),[]);var Le=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a,c,i,r,s,d,u,j,b,v,m,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.k)();case 2:t=e.sent,n=t.code,a=t.data,c=t.msg,200===n?(w(null===a||void 0===a?void 0:a.teacher),J(null===a||void 0===a||null===(i=a.teacher)||void 0===i?void 0:i.gender),D(null===a||void 0===a||null===(r=a.teacher)||void 0===r?void 0:r.avatar_file),C([null===a||void 0===a||null===(s=a.teacher)||void 0===s?void 0:s.province_id,null===a||void 0===a||null===(d=a.teacher)||void 0===d?void 0:d.city_id,null===a||void 0===a||null===(u=a.teacher)||void 0===u?void 0:u.area_id]),Me(null===a||void 0===a||null===(j=a.teacher)||void 0===j?void 0:j.province_id,null===a||void 0===a||null===(b=a.teacher)||void 0===b?void 0:b.city_id,null===a||void 0===a||null===(v=a.teacher)||void 0===v?void 0:v.area_id),I(null===a||void 0===a||null===(m=a.teacher)||void 0===m||null===(h=m.get_school)||void 0===h?void 0:h.id)):o.b.error(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.g.test(je)){e.next=10;break}return e.next=3,Object(O.b)({name:null===y||void 0===y?void 0:y.true_name,sex:F,img:L,school_id:G,email:je});case 3:t=e.sent,n=t.code,a=t.msg,200===n?o.b.success(a):o.b.error(a),re(!1),e.next=11;break;case 10:o.b.error("\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e!\u91cd\u65b0\u8f93\u5165!");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.j.test(xe)){e.next=12;break}return Ue(!0),t=60,Pe=setInterval((function(){0==t?(Te("\u53d1\u9001\u9a8c\u8bc1\u7801"),Ue(!1),clearInterval(Pe)):(t--,Te("(".concat(t,")")))}),1e3),e.next=6,Object(O.e)({mobile:xe});case 6:n=e.sent,a=n.code,c=n.msg,200===a?(_e(!0),o.b.success(c)):o.b.error(c),e.next=13;break;case 12:o.b.error("\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e!\u8bf7\u91cd\u65b0\u586b\u5199!");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.b)({name:null===y||void 0===y?void 0:y.true_name,sex:F,img:L,school_id:G,email:null===y||void 0===y?void 0:y.email});case 2:t=e.sent,n=t.code,a=t.msg,200===n?o.b.success(a):o.b.error(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=Object(b.jsxs)("div",{children:[B?Object(b.jsx)(m.a,{}):Object(b.jsx)(h.a,{}),Object(b.jsx)("div",{style:{marginTop:8},children:"\u4e0a\u4f20\u5934\u50cf"})]});var Je=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)({mobile:xe,code:he});case 2:t=e.sent,n=t.code,a=t.msg,200===n?o.b.success(a):o.b.error(a),_e(!1),Z(!1),ge(""),Oe("");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var qe=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,c,i,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,console.log("customRequest",n),(a=new FormData).append("img_url",n,n.name),a.append("file_path","wx_xcx/avatar/"),e.next=7,Object(O.i)(a);case 7:c=e.sent,i=c.code,r=c.data,s=c.msg,200===i?D(null===r||void 0===r?void 0:r.img):o.b.error(s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)();case 2:t=e.sent,n=t.code,a=t.data,200===n&&(ne(Be(a)),oe(a));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function e(t){return null===t||void 0===t?void 0:t.map((function(t){var n={};return n.value=null===t||void 0===t?void 0:t.id,n.label=null===t||void 0===t?void 0:t.name,(null===t||void 0===t?void 0:t.children)&&(n.children=e(null===t||void 0===t?void 0:t.children)),n}))},Me=function(){var e=Object(d.a)(l.a.mark((function e(t,n,a){var c,i,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.g)({province_id:t,city_id:n,area_id:a});case 2:c=e.sent,i=c.code,r=c.data,200===i&&V(r);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{id:"Datum",children:[Object(b.jsx)("div",{className:"title",children:"\u57fa\u672c\u4fe1\u606f"}),Object(b.jsxs)("div",{className:"body_box",children:[Object(b.jsxs)("div",{className:"name",children:[Object(b.jsx)("div",{className:"lable",children:"\u59d3\u540d\uff1a"}),Object(b.jsx)(r.a,{className:"iteminput",value:null===y||void 0===y?void 0:y.true_name,disabled:!0})]}),Object(b.jsxs)("div",{className:"sex",children:[Object(b.jsx)("div",{className:"lable",children:"\u6027\u522b\uff1a"}),Object(b.jsxs)(j.a,{className:"itemSelect",value:F?F.toString():1,style:{width:"38.07rem"},onChange:function(e,t){J(e)},children:[Object(b.jsx)(N,{value:"1",children:"\u7537"}),Object(b.jsx)(N,{value:"2",children:"\u5973"})]})]}),Object(b.jsxs)("div",{className:"avatarBox",children:[Object(b.jsx)("div",{className:"lable",children:"\u5934\u50cf\uff1a"}),Object(b.jsxs)("div",{className:"Upload_warp",children:[Object(b.jsx)(i.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||o.b.error("\u4ec5\u652f\u6301 JPG/PNG \u6587\u4ef6!");var n=e.size/1024/1024<2;return n||o.b.error("\u56fe\u7247\u5927\u5c0f\u5927\u4e8e 2MB!"),console.log(e),t&&n},onChange:function(e){M(!0),function(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}(e.file.originFileObj,(function(e){M(!1)}))},customRequest:qe,children:L?Object(b.jsx)("img",{src:L,alt:"avatar",style:{width:"100%"}}):Fe}),Object(b.jsx)("div",{className:"Upload_tip",children:"\u652f\u6301.jpg/png/ \u683c\u5f0f"})]})]}),Object(b.jsxs)("div",{className:"sex",children:[Object(b.jsx)("div",{className:"lable",children:"\u5730\u533a\uff1a"}),Object(b.jsx)(c.a,{className:"itemSelect",options:te,onChange:function(e){C(e),Me(e[0],e[1],e[2]),I(null)},placeholder:"\u8bf7\u9009\u62e9\u7701/\u5e02/\u533a",value:k,disabled:s})]}),Object(b.jsxs)("div",{className:"sex",children:[Object(b.jsx)("div",{className:"lable",children:"\u5b66\u6821\uff1a"}),Object(b.jsx)(j.a,{className:"itemSelect",style:{width:"38.07rem"},value:G,onChange:function(e,t){I(e)},disabled:s,children:null===Q||void 0===Q?void 0:Q.map((function(e){return Object(b.jsx)(N,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})]}),Object(b.jsxs)("div",{className:"name email",children:[Object(b.jsx)("div",{className:"lable",children:"\u90ae\u7bb1\uff1a"}),Object(b.jsx)(r.a,{className:"iteminput",value:null===y||void 0===y?void 0:y.email,disabled:!0}),Object(b.jsx)("span",{className:"changeTip",onClick:function(){re(!0)},children:"\u66f4\u6539"})]}),Object(b.jsxs)("div",{className:"name phone",children:[Object(b.jsx)("div",{className:"lable",children:"\u624b\u673a\u53f7\uff1a"}),Object(b.jsx)(r.a,{className:"iteminput",value:null===y||void 0===y?void 0:y.mobile,disabled:!0}),Object(b.jsx)("span",{className:"changeTip",onClick:function(){Z(!0)},children:"\u66f4\u6539"})]}),Object(b.jsx)("div",{className:"btns",children:Object(b.jsx)(a.a,{type:"primary",className:"btn",onClick:Ae,children:"\u4fdd\u5b58"})})]}),Object(b.jsx)(x.a,{isOpen:ie,title:"\u3010\u4fee\u6539\u90ae\u7bb1\u3011",closeClick:function(){re(!1)},width:"41.71rem",height:"19.93rem",children:Object(b.jsxs)("div",{id:"tmodelbox",className:"emailChange",children:[Object(b.jsxs)("div",{className:"title",children:["\u5f53\u524d\u7ed1\u5b9a\u7684\u90ae\u7bb1\u5730\u5740\uff1a",Object(b.jsx)("div",{className:"loadEmail",children:null===y||void 0===y?void 0:y.email})]}),Object(b.jsx)("div",{className:"body",children:Object(b.jsx)(r.a,{className:"emailData",value:je,onChange:function(e){return be(e.target.value)}})}),Object(b.jsx)(a.a,{type:"primary",className:"btn",onClick:De,children:"\u786e\u5b9a"})]})}),Object(b.jsx)(x.a,{isOpen:Y,title:"\u3010\u4fee\u6539\u7ed1\u5b9a\u624b\u673a\u53f7\u3011",closeClick:function(){Z(!1)},width:"41.71rem",height:"19.93rem",children:Object(b.jsxs)("div",{id:"tmodelbox",className:"phoneChange",children:[Object(b.jsxs)("div",{className:"bodys",children:[Object(b.jsxs)("div",{className:"phonenum",children:[Object(b.jsx)("div",{className:"text",children:"\u624b\u673a\u53f7"}),Object(b.jsx)(r.a,{className:"newPhone",value:xe,disabled:we,onChange:function(e){return ge(e.target.value)}})]}),Object(b.jsxs)("div",{className:"phonenum",children:[Object(b.jsx)("div",{className:"text",children:"\u9a8c\u8bc1\u7801"}),Object(b.jsx)(r.a,{className:"verification",value:he,onChange:function(e){return Oe(e.target.value)}}),Object(b.jsx)(a.a,{type:"primary",className:"Codebtn",onClick:Re,disabled:Ie,children:Ce})]})]}),Object(b.jsx)(a.a,{type:"primary",className:"btn",onClick:Je,children:"\u786e\u5b9a"})]})})]})}t.default=Object(f.b)((function(e){return{homeInfo:e.homeInfo}}),(function(e){return{setData:function(t){var n={type:p.c,value:t};e(n)}}}))(Object(v.memo)(y))},733:function(e,t,n){}}]);