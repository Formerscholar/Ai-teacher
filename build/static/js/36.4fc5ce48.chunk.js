(this.webpackJsonpteacher_admin=this.webpackJsonpteacher_admin||[]).push([[36],{213:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"k",(function(){return u})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return f}));var a=n(188),r=n(189),c=n.n(r);function i(e){return Object(a.a)({url:"/getUploadImage",method:"POST",data:e})}function s(e){return Object(a.a)({url:"/addTeacherUpload",method:"POST",data:c.a.stringify(e)})}function u(){return Object(a.a)({url:"/information",method:"GET"})}function o(){return Object(a.a)({url:"/getAllArea",method:"GET"})}function l(e){return Object(a.a)({url:"/getSchools",method:"GET",params:e})}function d(){return Object(a.a)({url:"/pointLog",method:"GET"})}function m(e){return Object(a.a)({url:"/getUploadList",method:"GET",params:e})}function p(e){return Object(a.a)({url:"/getOrganizingPapersLog",method:"GET",params:e})}function j(e){return Object(a.a)({url:"/editInformation",method:"POST",data:c.a.stringify(e)})}function b(e){return Object(a.a)({url:"/getCode",method:"GET",params:e})}function h(e){return Object(a.a)({url:"/editMobile",method:"GET",params:e})}function f(e){return Object(a.a)({url:"/getTeacherUpload",method:"GET",params:e})}},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(238);var r=n(237);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},451:function(e,t,n){"use strict";n.r(t);n(184);var a=n(183),r=(n(307),n(308)),c=n(186),i=n.n(c),s=(n(191),n(64)),u=n(187),o=n(236),l=n(185),d=(n(206),n(214)),m=n(9),p=n(0),j=(n(452),n(213)),b=d.a.TextArea;function h(e){var t=e.history,n=Object(p.useState)([]),c=Object(l.a)(n,2),h=c[0],f=c[1],O=Object(p.useState)(""),g=Object(l.a)(O,2),v=g[0],x=g[1],_=Object(p.useState)(""),y=Object(l.a)(_,2),N=y[0],T=y[1],E=Object(p.useRef)(null),k=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r,c,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u6267\u884caddEventListener",t),(n=t.target.files).length){e.next=4;break}return e.abrupt("return");case 4:return(a=new FormData).append("img_url",n[0],n[0].name),a.append("file_path","wx_xcx/paper/"),e.next=9,Object(j.i)(a);case 9:r=e.sent,c=r.code,u=r.data,l=r.msg,200===c?(f([].concat(Object(o.a)(h),[u.img])),s.b.success(l)):s.b.error(l),E.current.removeEventListener("change",k),E.current.value="";case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){E.current.click(),E.current.addEventListener("change",k)},G=function(){var e=Object(u.a)(i.a.mark((function e(){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)({image_urls:h,remark:v,paper_name:N});case 2:n=e.sent,a=n.code,r=n.msg,200===a?(s.b.success(r),f([]),T(""),x(""),t.push("/user/upload_list")):s.b.error(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{id:"Uploading",children:[Object(m.jsx)("div",{className:"upload_title",children:Object(m.jsx)("div",{className:"upload_left_text",children:"\u4e0a\u4f20\u8bd5\u5377"})}),Object(m.jsxs)("div",{className:"content_box",children:[Object(m.jsxs)("div",{className:"paperName",children:[Object(m.jsx)("span",{children:"\u8bd5\u5377\u540d\u79f0"}),Object(m.jsx)(d.a,{className:"myInput",placeholder:"\u8bf7\u586b\u5199\u8bd5\u5377\u540d\u79f0",onChange:function(e){var t=e.target.value;T(t)},value:N})]}),Object(m.jsxs)("div",{className:"Remarks",children:[Object(m.jsx)("span",{children:"\u5907\u6ce8"}),Object(m.jsx)(b,{className:"myInput",placeholder:"\u8bf7\u586b\u5199\u5907\u6ce8",onChange:function(e){var t=e.target.value;x(t)},value:v})]}),h.length?Object(m.jsxs)("div",{className:"upload_insert",children:[null===h||void 0===h?void 0:h.map((function(e,t){return Object(m.jsxs)("div",{className:"iamge_warp",children:[Object(m.jsx)(r.a,{className:"itemImg",width:"11.43rem",height:"14.29rem",src:e}),Object(m.jsx)("img",{className:"image_delete_icon",src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/image_delete_icon.png",alt:"image_delete_icon",onClick:function(){return function(e){var t=Object(o.a)(h);t.splice(e,1),f(t)}(t)}})]},t)})),Object(m.jsxs)("div",{className:"listUpload",onClick:w,children:[Object(m.jsx)("img",{className:"uploadlist",src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/uploadlist.png",alt:"uploadlist"}),Object(m.jsx)("span",{children:"\u4e0a\u4f20\u56fe\u7247"})]})]}):Object(m.jsxs)("div",{className:"upload_box",onClick:w,children:[Object(m.jsx)("img",{className:"upload_icon",src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/upload_icon.png",alt:"upload_icon"}),Object(m.jsx)("h1",{children:"\u70b9\u51fb\u4e0a\u4f20\u56fe\u7247"}),Object(m.jsx)("p",{children:"\u683c\u5f0f\uff1aJPG\u3001JPEG2000\u3001PNG"})]}),Object(m.jsx)(a.a,{type:"primary",className:"btns",onClick:G,children:"\u4fdd\u5b58"})]}),Object(m.jsx)("input",{ref:E,id:"upload",type:"file",name:"file",hidden:!0})]})}t.default=Object(p.memo)(h)},452:function(e,t,n){}}]);