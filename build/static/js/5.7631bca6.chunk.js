(this.webpackJsonpteacher_admin=this.webpackJsonpteacher_admin||[]).push([[5],{104:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var c=n(57),a=n.n(c),i=n(58),s=n(62),r=n(97),o=n(4),u=n(0),l=(n(104),n(173)),d=n(181),b=n(95),j=n(186),h=n(183),m=n(53),f=n(59),p=n(65);function g(e){return Object(o.jsx)(h.a,Object(r.a)({elevation:6,variant:"filled"},e))}function O(e){var t=Object(u.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1],h=Object(u.useState)(!0),O=Object(s.a)(h,2),x=O[0],v=O[1],w=Object(u.useState)(!1),_=Object(s.a)(w,2),N=_[0],k=_[1],S=Object(u.useState)("\u8bf7\u8f93\u5165\u6b63\u786e\u624b\u673a\u53f7\u7801!"),T=Object(s.a)(S,2),y=T[0],C=T[1],M=Object(u.useState)(!1),R=Object(s.a)(M,2),L=R[0],W=R[1],I=Object(u.useState)(!0),D=Object(s.a)(I,2),E=D[0],G=D[1],Q=Object(u.useState)("60"),F=Object(s.a)(Q,2),J=F[0],P=F[1],U=Object(u.useState)(""),$=Object(s.a)(U,2),q=$[0],z=$[1],A=Object(u.useState)(""),H=Object(s.a)(A,2),V=H[0],X=H[1],Y=null,B=null;Object(u.useEffect)((function(){return window.WxLogin({self_redirect:!0,id:"login_container",appid:m.a,scope:"snsapi_login",redirect_uri:m.c,state:Math.ceil(1e3*Math.random()),style:"black",href:""}),function(){clearInterval(Y),clearTimeout(B)}}),[]);var K=function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,c,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C("\u8bf7\u8f93\u5165\u6b63\u786e\u624b\u673a\u53f7\u7801!"),!m.e.test(q)){e.next=16;break}return W(!0),t=60,Y=setInterval((function(){t--,P(t)}),1e3),console.log(J),B=setTimeout((function(){W(!1)}),6e4),e.next=9,Object(p.b)({mobile:q});case 9:n=e.sent,c=n.code,i=n.data,s=n.msg,console.log("getLoginCode",c,i,s),e.next=18;break;case 16:k(!0),setTimeout((function(){k(!1)}),2888);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var t=Object(i.a)(a.a.mark((function t(){var n,c,i,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.a)({mobile:q,code:V});case 2:n=t.sent,c=n.code,i=n.data,s=n.msg,C(s),200==c?(Object(f.c)("id",i.id),Object(f.c)("token",i.token),e.history.push("/main")):(k(!0),setTimeout((function(){k(!1)}),2888));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.jsxs)("div",{id:"Login",children:[Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("div",{className:"left_box",children:Object(o.jsx)("img",{src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/login_img.png",alt:"login_img"})}),Object(o.jsxs)("div",{className:"right_box",children:[Object(o.jsxs)("div",{className:"right_imgs",onClick:function(){c?(r(!c),setTimeout((function(){v(!x),window.WxLogin({self_redirect:!0,id:"login_container",appid:m.a,scope:"snsapi_login",redirect_uri:m.c,state:Math.ceil(1e3*Math.random()),style:"black",href:""})}),300)):(v(!x),setTimeout((function(){r(!c)}),300))},children:[c?Object(o.jsx)(l.a,{in:c,children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"WeChat",children:"\u5fae\u4fe1\u626b\u7801\u767b\u5f55"}),Object(o.jsx)("img",{className:"QRcode",src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/QRcode.png",alt:"QRcode"})]})}):"",x?Object(o.jsx)(l.a,{in:x,children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("img",{src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/SMSlogin.png",className:"phone_right_icon"}),Object(o.jsx)("img",{className:"QRcode",src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/computer.png",alt:"QRcode"})]})}):""]}),c?Object(o.jsx)(l.a,{in:c,children:Object(o.jsxs)("div",{className:"form_box",children:[Object(o.jsx)("div",{className:"title",children:"\u8001\u5e08\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"}),Object(o.jsxs)("div",{className:"phone",children:[Object(o.jsx)("span",{children:"\u624b\u673a\u53f7"}),Object(o.jsx)(d.a,{id:"standard-basic",className:"userinput",label:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",onInput:function(e){var t=e.target.value;m.e.test(t)&&z(t)}})]}),Object(o.jsxs)("div",{className:"Verification",children:[Object(o.jsx)("span",{children:"\u9a8c\u8bc1\u7801"}),Object(o.jsx)(d.a,{id:"standard-basic",className:"userinput",label:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",onInput:function(e){var t=e.target.value;X(t),G(!1)},InputProps:{endAdornment:Object(o.jsx)("button",{disabled:L,onClick:K,children:L?"\u518d\u6b21\u83b7\u53d6(".concat(J,")"):"\u83b7\u53d6\u9a8c\u8bc1\u7801"})}})]}),Object(o.jsx)("div",{className:"btns",children:Object(o.jsx)(b.a,{variant:"contained",disabled:E,className:"login",onClick:Z,children:"\u767b\u5f55"})}),Object(o.jsx)("div",{className:"tip",children:"\u5ba2\u670d\u7535\u8bdd:0514-82885886"})]})}):"",x?Object(o.jsx)(l.a,{in:x,children:Object(o.jsxs)("div",{className:"wechatForm",children:[Object(o.jsxs)("div",{className:"title_box",children:[Object(o.jsx)("img",{className:"wechat_icon",src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/wechat_icon.png",alt:"wechat_icon"}),Object(o.jsx)("span",{className:"text",children:"\u5fae\u4fe1\u626b\u7801\u767b\u5f55"})]}),Object(o.jsxs)("div",{className:"content_box",children:[Object(o.jsx)("div",{id:"login_container"}),Object(o.jsx)("img",{className:"MobileWeChattip",src:"https://aictb.oss-cn-shanghai.aliyuncs.com/teacher/MobileWeChattip.png",alt:"MobileWeChattip"})]}),Object(o.jsx)("div",{className:"footer_box",children:"\u6253\u5f00\u5fae\u4fe1,\u626b\u4e00\u626b\u767b\u5f55"})]})}):""]})]}),Object(o.jsx)(j.a,{open:N,autoHideDuration:2888,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(o.jsx)(g,{severity:"error",children:y})})]})}t.default=Object(u.memo)(O)},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(75),a=n.n(c),i=n(53);function s(e){return new Promise((function(t,n){var c=a.a.create({baseURL:i.b,timeout:1e4});c.interceptors.request.use((function(e){return e}),(function(e){return e})),c.interceptors.response.use((function(e){return 777===e.data.code&&(window.location.href="/login"),e.data}),(function(e){if(console.log(e),e&&e.response)switch(e.response.status){case 400:e.message="\u8bf7\u6c42\u9519\u8bef";break;case 401:e.message="\u672a\u6388\u6743\u7684\u8bbf\u95ee";break;default:e.message="\u5176\u4ed6\u9519\u8bef\u4fe1\u606f"}return e})),c(e).then((function(e){t(e)})).catch((function(e){n(e)}))}))}a.a.defaults.withCredentials=!0},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return r}));var c="http://test.aictb.com/teacher",a=/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-7|9])|(?:5[0-3|5-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1|8|9]))\d{8}$/,i="wx5f0976e726b587f8",s=encodeURIComponent("http://test.aictb.com/teacher/WXLogin"),r=[{text:"\u9996\u9875",url:"main/index"},{text:"\u73ed\u7ea7\u4fe1\u606f",url:"main/class"},{text:"\u540d\u6821\u8d44\u6e90",url:"main/famous"},{text:"\u6821\u672c\u8bd5\u5377",url:"main/schoolbased"},{text:"\u77e5\u8bc6\u5e93",url:"main/knowledge"},{text:"\u4e0a\u4f20\u8bd5\u5377",url:"main/uploadpaper"},{text:"\u6211\u7684\u8bd5\u5377",url:"main/mypaper"}]},59:function(e,t,n){"use strict";function c(e){var t=new Date(e),n=t.getFullYear().toString(),c=(t.getMonth()+1).toString(),a=t.getDate().toString();return c=c.length<2?"0"+c:c,a=a.length<2?"0"+a:a,"".concat(n,"-").concat(c,"-").concat(a)}n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=function(e,t){var n=new Date;n.setTime(n.getTime()+6048e5);var c="expires="+n.toGMTString();document.cookie=e+"="+t+"; "+c};function i(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null}function s(e){var t=new Date;t.setTime(t.getTime()-1);var n=i(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())}},65:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var c=n(49);function a(e){return Object(c.a)({url:"/getLoginCode",method:"GET",params:e})}function i(e){return Object(c.a)({url:"/login",method:"GET",params:e})}function s(e){return Object(c.a)({url:"/loginOut",method:"GET",params:e})}}}]);